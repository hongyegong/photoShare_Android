
function _UTILS_()
{}
function getElementsByClassName(className,tagName,node)
{tagName=tagName||'*';node=node||document;var all=node.getElementsByTagName(tagName),reg=new RegExp("(^|\\s)"
+className+"(\\s|$)"),res=[],index=0;for(var i=0;i<all.length;i++)
{if(reg.test(all[i].className))
{res[index++]=all[i];}}
return res;}
function getPosTop(obj)
{var l=obj.offsetTop;while(obj=obj.offsetParent)
{l+=obj.offsetTop;}
return l;}
function getPosLeft(obj)
{var l=obj.offsetLeft;while(obj=obj.offsetParent)
{l+=obj.offsetLeft;}
return l;}
function getPos(_obj)
{var curleft=_obj.offsetLeft,curtop=_obj.offsetTop;while(_obj=_obj.offsetParent)
{curleft+=_obj.offsetLeft;curtop+=_obj.offsetTop;}
return{x:curleft,y:curtop};}
function getCorInDoc(event)
{var val={x:0,y:0};if(event.pageX==null&&event.clientX!=null){var doc=document.documentElement,body=document.body;val.x=event.clientX+myou.constants.SCROLLBAR_LEFT_LEN-(doc&&doc.clientLeft||body&&body.clientLeft||0);val.y=event.clientY+myou.constants.SCROLLBAR_TOP_LEN-(doc&&doc.clientTop||body&&body.clientTop||0);}else{val={x:event.pageX,y:event.pageY};}
return val;}
function getCurStyle(_obj,_type)
{if((!+"\v1"))
{return _obj.currentStyle[_type];}else
{_type=_type.replace(/([A-Z])/g,function(all,letter)
{return'-'+letter.toLowerCase();});return document.defaultView.getComputedStyle(_obj,null).getPropertyValue(_type);}}
function getDocSize()
{var sizeObj={x:Math.max(document.body["scrollWidth"],document.body["offsetWidth"],document.documentElement["clientWidth"],document.documentElement["scrollWidth"],document.documentElement["offsetWidth"]),y:Math.max(document.body["scrollHeight"],document.body["offsetHeight"],document.documentElement["clientHeight"],document.documentElement["scrollHeight"],document.documentElement["offsetHeight"])};return sizeObj;}
function getWinSize()
{if(typeof window.innerWidth!='undefined')
{return{x:window.innerWidth,y:window.innerHeight};}
else if(typeof document.documentElement!='undefined'&&typeof document.documentElement.clientWidth!='undefined'&&document.documentElement.clientWidth!=0)
{return{x:document.documentElement.clientWidth,y:document.documentElement.clientHeight};}
else
{return{x:document.getElementsByTagName('body')[0].clientWidth,y:document.getElementsByTagName('body')[0].clientHeight};}}
function getByTag(tagName,parent)
{if(parent!=undefined&&!parent){return null;}
return(parent||document).getElementsByTagName(tagName);}
function replaceStyleDom(before,now)
{var style=document.createElement('style'),content=now.innerHTML;style.setAttribute('type','text/css');if(style.styleSheet){content&&(style.styleSheet.cssText=content);}else{content&&style.appendChild(document.createTextNode(now.innerHTML));}
before.parentNode.replaceChild(style,before);}
function setFilter(_obj,_key,_keyvalue){var filVal='',ieEdi=getIeEdition();if(ieEdi<5||ieEdi>8)
{return-1;}
var filt=getCurStyle(_obj,'filter');if(filt)
{var filterS=filt.split(') ');if(filterS.length===1)
{filVal=filt;}else
{for(var i=0;i<filterS.length;i++)
{if(filterS[i].toLowerCase().indexOf(_key)===-1&&filterS[i].trim()!='')
{filVal+=filterS[i]+') ';}}
filVal=filVal.substring(0,filVal.length-1);}}
filVal+=' '+_keyvalue;_obj.style.filter=filVal;}
function getIeEdition()
{var i=navigator.userAgent.indexOf('MSIE ');if(i<0)
{return 0;}
return parseInt(navigator.userAgent.substring(i+5,i+7));}
function debug(msg)
{var debug_info=window.debug_info;if(debug_info===undefined)
{debug_info=document.createElement('div');debug_info.id='debug_info';debug_info.style.position='absolute';debug_info.style.left='500px';debug_info.style.top='500px';debug_info.style.color='red';debug_info.style.fontSize='20px';document.body.appendChild(debug_info);window.debug_info=debug_info;}
debug_info.innerHTML=msg;}
function showProp(obj){var str='';for(var name in obj){str+='<h3 style="color:red">'+name+'</h3>'+':'
+(obj[name]?obj[name].toString():obj[name])+'&nbsp;&nbsp;&nbsp;&nbsp;<font style="color:blue">类型:'
+(typeof obj[name])+'</font><br />';}
var nwin_b=window.open('about:blank');nwin_b.document.writeln(str);nwin_b.document.close();}
function isNumber(s){if(s==null||(typeof s)=='undefined'){return false;}
return(new RegExp('^\d')).test(s);}
function addCart(code){myou.ajax({url:'/cartAddGoods.json',data:{code:code},success:function(text){if(text===""){window.location.href='/cart';if(window.event!=undefined){window.event.returnValue=false;}}else{myou.win.alert(text);}}});}
function addGouwuche(code,postUrl,sendUrl){if(!postUrl){postUrl="/cartAddGoods.json";}
if(!sendUrl){sendUrl="/cart.html";}
myou.ajax({url:postUrl,data:{code:code},success:function(text){if(text===""){window.location.href=sendUrl;if(window.event!=undefined){window.event.returnValue=false;}}else{myou.win.alert(text);}}});}
function doLogin(){art.dialog.open('/login.html',{title:'登录',width:620,height:270});}
function doRegister(){art.dialog.open('/register.html',{title:'注册',width:620,height:270});}
function doCharge(pkMember,pkOrg){url="http://zhifu.kaihuadian.com/public/memberRecharge.html?pkMember="+pkMember+"&pkOrg="+pkOrg;myou.win.createWin({width:713,height:450,title:'您好！！欢迎来到账户充值页面',msg:'<iframe  id="yhchongzhi"  frameborder="0" src='+url+' style="height: 100%; width: 100%;" />'});}
function exit(){myou.ajax({type:'get',url:'/exit.html',success:function(text){var dialog=art.dialog({title:'消息',content:'恭喜您,退出成功！！！',icon:'succeed',ok:function(){parent.window.location.href="http://www.aisonghua.com";}});}});}
function oldDoPay(pkOrder,pkMember,pkOrg){url="http://zhifu.kaihuadian.com/public/memberPay.html?pkOrder="+pkOrder+"&pkMember="+pkMember+"&pkOrg="+pkOrg;myou.win.createWin({width:713,height:415,title:'您好！！欢迎来到支付页面',msg:'<iframe  id="yhchongzhi"  frameborder="0" src='+url+' style="height: 100%; width: 100%;" />'});}
function doPay(pkOrder,pkMember,pkOrg){url="http://zhifu.kaihuadian.com/public/memberPay.html?pkOrder="+pkOrder+"&pkMember="+pkMember+"&pkOrg="+pkOrg;art.dialog.open(url,{title:'您好！！欢迎来到支付页面',width:713,height:415});}
function doServicePay(pkOrder,pkOrg){url="http://zhifu.kaihuadian.com/public/servicepay.html?pkOrder="+pkOrder+"&pkOrg="+pkOrg;myou.win.createWin({width:713,height:415,title:'您好！！欢迎来到支付页面',msg:'<iframe  id="yhchongzhi"  frameborder="0" src='+url+' style="height: 100%; width: 100%;" />'});}
function link(url){window.location.href=url;if(window.event!=undefined){window.event.returnValue=false;}}
function addfavorite(title){if(!title){title='花族网鲜花商城';}
var url=window.location.hostname;if(!url.contains("http:")){url="http://"+url;}
if(document.all){window.external.addFavorite(url,title);}else if(window.sidebar){window.sidebar.addPanel(title,url,"");}else{var dialog=art.dialog({title:'消息',content:'请按 Ctrl + D 为你的浏览器添加书签！',icon:'face-sad',ok:function(){}});}}
function serachGoods(){var value=get('searchGood').value;var matchreg=/^[a-zA-Z0-9\u4E00-\u9FA5]+$/;if(value!=''&&!value.match(matchreg)){myou.win.alert("请输入数字,字母与汉字的组合!");return false;}
if(value){link('/shangpin/xianhualipin/'+value+'/xiaoliang/1');}else{link('/shangpin/xianhualipin/quanbu/xiaoliang/1');}
return false;}
function clearLastGoods(){myou.ajax({url:'/clearLastGoods.json',type:'get',cache:false,success:function(text){art.dialog.alert("清除成功");$("#popular").html("");$("#lastList").html("");}});}
function clearLastOrg(){myou.ajax({url:'/clearLastOrg.json',type:'get',cache:false,success:function(text){art.dialog.alert("清除成功");$("#lastOrg").html("");}});}
function getShopGoods(id){var value=document.getElementById(id).value;var matchreg=/^[a-zA-Z0-9\u4E00-\u9FA5]+$/;if(value!=''&&!value.match(matchreg)){myou.win.alert("请输入数字,字母与汉字的组合!");return false;}
if(value){link('/goods/xianhualipin/'+value+'/xiaoliang/1');}else{link('/goods/xianhualipin/quanbu/xiaoliang/1');}
return false;}